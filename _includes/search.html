<!-- Search data and ninja-keys component -->
<ninja-keys placeholder="Type to start searching" hideBreadcrumbs></ninja-keys>

<script>
window.searchData = [
  // Navigation items
  {%- for page in site.pages -%}
  {%- if page.title and page.permalink -%}
  {
    id: "nav-{{ page.title | slugify }}",
    title: "{{ page.title | escape }}",
    section: "Navigation",
    handler: function() {
      window.location.href = "{{ page.url | relative_url }}";
    }
  },
  {%- endif -%}
  {%- endfor -%}

  // Blog posts
  {%- for post in site.posts -%}
  {
    id: "post-{{ post.title | slugify }}",
    title: "{{ post.title | escape }}",
    section: "Blog Posts",
    {%- if post.description -%}
    keywords: "{{ post.description | escape }}",
    {%- endif -%}
    handler: function() {
      window.location.href = "{{ post.url | relative_url }}";
    }
  },
  {%- endfor -%}

  // Projects
  {%- for project in site.projects -%}
  {
    id: "project-{{ project.title | slugify }}",
    title: "{{ project.title | escape }}",
    section: "Projects",
    {%- if project.description -%}
    keywords: "{{ project.description | escape }}",
    {%- endif -%}
    handler: function() {
      window.location.href = "{{ project.url | relative_url }}";
    }
  },
  {%- endfor -%}

  // News
  {%- for news in site.news -%}
  {%- if news.title -%}
  {
    id: "news-{{ forloop.index }}",
    title: "{{ news.title | escape }}",
    section: "News",
    handler: function() {
      window.location.href = "{{ news.url | relative_url }}";
    }
  },
  {%- endif -%}
  {%- endfor -%}
];
</script>

